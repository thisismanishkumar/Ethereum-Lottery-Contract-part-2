(this["webpackJsonplottery-react"]=this["webpackJsonplottery-react"]||[]).push([[0],{157:function(e,t,n){e.exports=n(393)},163:function(e,t,n){},173:function(e,t){},196:function(e,t){},198:function(e,t){},277:function(e,t){},392:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n.n(a),s=n(150),c=n.n(s),u=n(6),l=n.n(u),o=n(151),i=n(152),p=n(155),m=n(153),h=n(156),y=(n(163),n(154)),d=new(n.n(y).a)(window.web3.currentProvider),b=new d.eth.Contract([{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pickWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"enter",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"players",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],"0xD94330B373b741317AD28A0f3825935e3b8465E9"),f=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={manager:"",players:[],balance:"",value:"",message:"Waiting for user to enter in the lottery"},n.onSubmit=function(e){var t,a,r,s;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),c.next=3,l.a.awrap(d.eth.getAccounts());case 3:return t=c.sent,n.setState({message:"Waiting on transaction sucess ...."}),c.next=7,l.a.awrap(b.methods.enter().send({from:t[0],value:d.utils.toWei(n.state.value,"ether")}));case 7:return c.next=9,l.a.awrap(b.methods.manager().call());case 9:return a=c.sent,c.next=12,l.a.awrap(b.methods.getPlayers().call());case 12:return r=c.sent,c.next=15,l.a.awrap(d.eth.getBalance(b.options.address));case 15:s=c.sent,n.setState({manager:a,players:r,balance:s,message:"Congratulation!!! You have successfully entered the lottery"});case 17:case"end":return c.stop()}}))},n.onClick=function(e){var t;return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({message:"Waiting on picking winner!!!"}),e.next=3,l.a.awrap(d.eth.getAccounts());case 3:return t=e.sent,e.next=6,l.a.awrap(b.methods.pickWinner().send({from:t[0]}));case 6:n.setState({message:"A winner has been picked!"});case 7:case"end":return e.stop()}}))},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(b.methods.manager().call());case 2:return e=a.sent,a.next=5,l.a.awrap(b.methods.getPlayers().call());case 5:return t=a.sent,a.next=8,l.a.awrap(d.eth.getBalance(b.options.address));case 8:n=a.sent,this.setState({manager:e,players:t,balance:n});case 10:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return window.addEventListener("load",(function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=9;break}return e.prev=1,e.next=4,l.a.awrap(window.ethereum.enable());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),null,null,[[1,6]])})),r.a.createElement("div",null,r.a.createElement("h1",null,"Lottery Contract"),r.a.createElement("p",null,"This contract is managed by ",this.state.manager," . \xa0 There are currently ",this.state.players.length," people competing to win"," ",d.utils.fromWei(this.state.balance,"ether")," Ether !!!"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h4",null," Want to try your Luck ???"),r.a.createElement("div",null,r.a.createElement("label",null,"Amount of ether to Enter \xa0"),r.a.createElement("input",{value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}})),r.a.createElement("button",null,"Enter")),r.a.createElement("hr",null),r.a.createElement("h3",null,"Ready to pick up a Winner ??"),r.a.createElement("button",{onClick:this.onClick},"Pick a Winner"),r.a.createElement("hr",null),r.a.createElement("h2",null," Status:- ",this.state.message))}}]),t}(a.Component);n(392);c.a.render(r.a.createElement(f,null),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.dd74ab9f.chunk.js.map